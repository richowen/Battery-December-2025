# Battery Optimization Service Configuration
# Copy this to .env and fill in your actual values

# Database Configuration
DB_HOST=192.168.1.3
DB_PORT=3306
DB_USER=optimizer
DB_PASSWORD=p
DB_NAME=battery_optimizer

# Home Assistant Configuration
HA_URL=http://192.168.1.3:8123
HA_TOKEN=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiI0OGU2YjlhMDQwMzI0ODNlODExYTgzYjQ1ZDVhNjVkYiIsImlhdCI6MTc2NTM2ODU2OCwiZXhwIjoyMDgwNzI4NTY4fQ.Zc_48BsHJk2kbsafDs9-VkDH9TRNIb87S44nCZvNBXc

# InfluxDB Configuration
INFLUX_ENABLED=true 
INFLUX_URL=http://192.168.1.64:8086
INFLUX_TOKEN=fErU5FqDm_FsjWAvvJZmUE2KBQU34v0VyFeT2s4wso_EBM-ItbA2DN1kYktQom6cXtbQpb8D1oZFMhvQMb86gw==
INFLUX_ORG=unraid
INFLUX_BUCKET=battery-optimizer

# Octopus Energy Configuration
OCTOPUS_PRODUCT=AGILE-24-10-01
OCTOPUS_TARIFF=E-1R-AGILE-24-10-01-E
OCTOPUS_REGION=E

# Application Configuration
LOG_LEVEL=INFO
OPTIMIZATION_INTERVAL=300
PRICE_FETCH_INTERVAL=1800
API_PORT=8000

# Battery Configuration
BATTERY_CAPACITY_KWH=10.6
BATTERY_MAX_CHARGE_KW=10.5
BATTERY_MAX_DISCHARGE_KW=5.0
BATTERY_EFFICIENCY=0.95
BATTERY_MIN_SOC=10
BATTERY_MAX_SOC=100

# Solar Configuration
SOLAR_CAPACITY_KW=10.6

# Home Assistant Entity IDs
HA_ENTITY_BATTERY_SOC=sensor.foxinverter_battery_soc
HA_ENTITY_SOLAR_POWER=sensor.pv_power_foxinverter
HA_ENTITY_SOLAR_FORECAST_TODAY=sensor.solcast_pv_forecast_forecast_remaining_today
HA_ENTITY_SOLAR_FORECAST_NEXT_HOUR=sensor.solcast_pv_forecast_power_in_1_hour
HA_ENTITY_BATTERY_MODE=select.foxinverter_work_mode
HA_ENTITY_DISCHARGE_CURRENT=number.foxinverter_max_discharge_current
HA_ENTITY_IMMERSION_MAIN=switch.immersion_switch
HA_ENTITY_IMMERSION_LUCY=switch.immersion_lucy_switch